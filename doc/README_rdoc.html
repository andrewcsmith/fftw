<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - RDoc Documentation</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-module+FFTW3">module FFTW3</a>
    <li><a href="#label-Features">Features</a>
    <li><a href="#label-Features+yet+to+be+introduced">Features yet to be introduced</a>
    <li><a href="#label-Installation">Installation</a>
    <li><a href="#label-How+to+use">How to use</a>
    <li><a href="#label-API+Reference">API Reference</a>
    <li><a href="#label-Module+methods">Module methods</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./README_rdoc.html">README</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page README.rdoc">

<h1 id="label-module+FFTW3">module FFTW3<span><a href="#label-module+FFTW3">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>Fast Fourier Transforms by using ((&lt;FFTW|URL:<a
href="http://www.fftw.org">www.fftw.org</a>&gt;)) Ver.3.</p>

<p>Takeshi Horinouchi</p>

<p>(C) Takeshi Horinouchi / GFD Dennou Club, 2003</p>

<p>NO WARRANTY</p>

<h2 id="label-Features">Features<span><a href="#label-Features">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>Uses ((&lt;NArray|URL:<a
href="http://www.ruby-lang.org/en/raa-list.rhtml?name=NArray">www.ruby-lang.org/en/raa-list.rhtml?name=NArray</a>&gt;)).</p>
</li><li>
<p>Multi-dimensional complex FFT. (Real data are coerced to complex).</p>
</li><li>
<p>Supports both double and single float transforms.</p>
</li><li>
<p>Not normalized as in FFTW</p>
</li></ul>

<h2 id="label-Features+yet+to+be+introduced">Features yet to be introduced<span><a href="#label-Features+yet+to+be+introduced">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>Sine / cosine transforms</p>
</li><li>
<p>User choice of optimization levels (i.e., FFTW_MEASURE etc in addition to
FFTW_ESTIMATE).</p>
</li><li>
<p>Multi-threaded FFT3 support – don&#39;t know whether it&#39;s really
feasible.</p>
</li></ul>

<h2 id="label-Installation">Installation<span><a href="#label-Installation">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<pre>Install fftw3 (in OSX with MacPorts: sudo port install fftw3)
sudo gem install fftw3</pre>

<h2 id="label-How+to+use">How to use<span><a href="#label-How+to+use">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>See the following peice of code. (Install this library and copy and paste
the following to the interactive shell irb).</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;fftw3&quot;</span>

<span class="ruby-identifier">na</span> = <span class="ruby-constant">NArray</span>.<span class="ruby-identifier">float</span>(<span class="ruby-value">8</span>,<span class="ruby-value">6</span>)   <span class="ruby-comment"># float -&gt; will be corced to complex</span>
<span class="ruby-identifier">na</span>[<span class="ruby-value">1</span>,<span class="ruby-value">1</span>]=<span class="ruby-value">1</span>

<span class="ruby-comment"># &lt;example 1&gt;</span>
<span class="ruby-identifier">fc</span> = <span class="ruby-constant">FFTW3</span>.<span class="ruby-identifier">fft</span>(<span class="ruby-identifier">na</span>)<span class="ruby-operator">/</span><span class="ruby-identifier">na</span>.<span class="ruby-identifier">length</span>  <span class="ruby-comment"># forward 2D FFT and normalization</span>
<span class="ruby-identifier">nc</span> = <span class="ruby-constant">FFTW3</span>.<span class="ruby-identifier">ifft</span>(<span class="ruby-identifier">fc</span>)       <span class="ruby-comment"># backward 2D FFT (complex) --&gt; </span>
<span class="ruby-identifier">nb</span> = <span class="ruby-identifier">nc</span>.<span class="ruby-identifier">real</span>                <span class="ruby-comment"># should be equal to na except round errors  </span>

<span class="ruby-comment"># &lt;example 2&gt;</span>
<span class="ruby-identifier">fc</span> = <span class="ruby-constant">FFTW3</span>.<span class="ruby-identifier">fft</span>(<span class="ruby-identifier">na</span>, <span class="ruby-value">0</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">na</span>.<span class="ruby-identifier">shape</span>[<span class="ruby-value">0</span>]  <span class="ruby-comment"># forward FFT with the first dim</span>

<span class="ruby-comment"># &lt;example 3&gt;</span>
<span class="ruby-identifier">fc</span> = <span class="ruby-constant">FFTW3</span>.<span class="ruby-identifier">fft</span>(<span class="ruby-identifier">na</span>, <span class="ruby-value">1</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">na</span>.<span class="ruby-identifier">shape</span>[<span class="ruby-value">1</span>]  <span class="ruby-comment"># forward FFT with the second dim</span>
</pre>

<h2 id="label-API+Reference">API Reference<span><a href="#label-API+Reference">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-Module+methods">Module methods<span><a href="#label-Module+methods">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>—fft(narray, [dim,dim,…])</p>

<pre>Complex FFT.

The 3rd, 4th,... arguments are optional.

ARGUMENTS
* narray (NArray or NArray-compatible Array) : array to be
  transformed. If real, coerced to complex before transformation.
  If narray is single-precision and the single-precision
  version of FFTW3 is installed (before installing this module),
  this method does a single-precision transform. 
  Otherwise, a double-precision transform is used.
* optional 3rd, 4th,... arguments (Integer) : Specifies dimensions 
  to apply FFT. For example, if 0, the first dimension is
  transformed (1D FFT); If -1, the last dimension is used (1D FFT);
  If 0,2,4, the first, third, and fifth dimensions
  are transformed (3D FFT); If entirely omitted, ALL DIMENSIONS
  ARE SUBJECT TO FFT, so 3D FFT is done with a 3D array.

RETURN VALUE
* a complex NArray

NOTE
* As in FFTW, return value is NOT normalized. Thus, a consecutive
  forward and backward transform would multiply the size of
  data used for transform. You can normalize, for example,
  the forward transform FFTW.fft(narray, -1, 0, 1)
  (FFT regarding the first (dim 0) &amp; second (dim 1) dimensions) by
  dividing with (narray.shape[0]*narray.shape[1]). Likewise,
  the result of FFTW.fft(narray, -1) (FFT for all dimensions)
  can be normalized by narray.length.</pre>

<p>—ifft(narray, [dim,dim,…])</p>

<pre>Complex inverse FFT</pre>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

